process ANALYSIS = {
### mixing module cfi with four bkg source
include "SimGeneral/MixingModule/data/mixLowLumPU_4sources.cfi"
##include "SimGeneral/MixingModule/data/mixNoPU.cfi"

### To overlay beam halo to a preexisting physics signal (require GEN-SIM information)
### Need to be edited to point to the correct file (can be done also here with replace method)
include "GeneratorInterface/BeamHaloGenerator/test/BeamHaloMixing_NoSignal180.cfi"

#######
#### mixing module parameters which bx windows (-3;5 default)
replace mix.minBunch =  -3
replace mix.maxBunch =   5

#### average number of events to be overlayed to a signal events in each bx interval
#replace mix.beamhalo_plus.nbPileupEvents.averageNumber = 1

#### random distribution giving the number of bkg events to be overlayed to the signal (for each source)
#### argument "fixed": overlay the averageNumber of bkg events to the signal
####                 "none":  do not overlay bkg events to the signal
####                 "poisson" : number of bkg events to be overlayed to signal poissonian
replace mix.beamhalo_plus.type ="fixed"

#### source random generator seed for the source file
replace mix.beamhalo_plus.seed = 2468

#### general random generator seed for mixing module
replace RandomNumberGeneratorService.moduleSeeds.mix = 8642

#### Number of events
untracked PSet maxEvents = {untracked int32 input = 1000}
#### output file
replace FEVT.fileName = "BeamHalo_digi-reco.root"
}

